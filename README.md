# LINE Desktop MCP

[English](#english) | [ç¹é«”ä¸­æ–‡](#ç¹é«”ä¸­æ–‡)

---

## ç¹é«”ä¸­æ–‡

é€é MCPï¼ˆModel Context Protocolï¼‰ï¼Œä½¿ AI å·¥å…·èƒ½å¤ èˆ‡ LINE Desktop æ•´åˆï¼Œä¸¦åŸ·è¡Œè¨Šæ¯çš„è®€å–èˆ‡ç™¼é€æ“ä½œã€‚

![LINE Desktop MCP Demo with Claude Desktop](doc_media/line-desktop-demo-4x.gif)

![LINE Desktop MCP Demo with n8n](doc_media/line-desktop-mcp-demo-n8n-2x.gif)

### âš ï¸ é‡è¦èªªæ˜

**é€™å€‹å°ˆæ¡ˆä¸æ˜¯ LINE å®˜æ–¹çš„ line-bot-mcp-server**

å¦‚æœä½ è¦æ‰¾çš„æ˜¯å®˜æ–¹ç‰ˆæœ¬ï¼Œè«‹å‰å¾€ï¼šhttps://github.com/line/line-bot-mcp-server

### èˆ‡å®˜æ–¹ç‰ˆæœ¬çš„å·®ç•°

- **å®˜æ–¹ line-bot-mcp-server**ï¼šé€é LINE Messaging API æ“ä½œ LINE Bot
- **æœ¬å°ˆæ¡ˆ line-desktop-mcp**ï¼šé€é MCP åœ¨ Windows æˆ– Mac ä¸Šç›´æ¥æ“ä½œ LINE Desktop æ‡‰ç”¨ç¨‹å¼

### é‡è¦è²æ˜

1. **æœ¬å°ˆæ¡ˆèˆ‡ LINE å®˜æ–¹ç„¡ä»»ä½•é—œè¯**  
   This project is NOT officially affiliated with LINE.

2. **ç„¡éœ€ç”³è«‹ LINE Developers æˆ–ä½¿ç”¨ Channel Access Token**  
   æœ¬å°ˆæ¡ˆé€éå·²ç¶“å®Œæˆç™»å…¥çš„ LINE Desktop æ‡‰ç”¨ç¨‹å¼é€²è¡Œæ“ä½œï¼Œä¸éœ€è¦ç”³è«‹é–‹ç™¼è€…å¸³è™Ÿæˆ– API Tokenã€‚

### é—œæ–¼å°ˆæ¡ˆ

LINE Desktop MCP æ˜¯ä¸€å€‹åŸºæ–¼ Model Context Protocol çš„æ•´åˆå·¥å…·ï¼Œè®“ AI å·¥å…·ï¼ˆå¦‚ Claude Desktop, n8n ï¼‰ï¼Œèƒ½å¤ ç›´æ¥èˆ‡ LINE Desktop æ‡‰ç”¨ç¨‹å¼äº’å‹•ã€‚é€éæ­¤å°ˆæ¡ˆï¼Œæ‚¨å¯ä»¥ï¼š

- ğŸ“– è®€å– LINE èŠå¤©è¨Šæ¯
- âœ‰ï¸ ç™¼é€ LINE è¨Šæ¯ï¼ˆæ‰‹å‹•æˆ–è‡ªå‹•ï¼‰
- ğŸ¤– å°‡ LINE æ•´åˆåˆ°æ‚¨çš„ AI å·¥ä½œæµç¨‹ä¸­

### åŠŸèƒ½ç‰¹è‰²

- ğŸ¤– **AI æ•´åˆ**ï¼šé€é MCP å”è­°èˆ‡ Claude Desktopã€ n8n ç­‰ AI å·¥å…·ç„¡ç¸«æ•´åˆ
- ğŸ’¬ **è¨Šæ¯æ“ä½œ**ï¼šæ”¯æ´è®€å–å’Œç™¼é€ LINE è¨Šæ¯
- ğŸ–¥ï¸ **æ¡Œé¢æ•´åˆ**ï¼šç›´æ¥èˆ‡ LINE Desktop æ‡‰ç”¨ç¨‹å¼äº’å‹•
- ğŸ”„ **è‡ªå‹•åŒ–æ”¯æ´**ï¼šå¯é¸æ“‡æ‰‹å‹•ç¢ºèªæˆ–è‡ªå‹•ç™¼é€è¨Šæ¯

### ç³»çµ±éœ€æ±‚

#### åŸºæœ¬éœ€æ±‚

- **LINE Desktop**ï¼šv9.10 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- **ä½œæ¥­ç³»çµ±**ï¼š
  - Windows 10 æˆ–ä»¥ä¸Šç‰ˆæœ¬
  - macOS Ventura 13.0 æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼ˆéœ€è¦ AppleScript æ”¯æ´ï¼‰

#### èˆ‡ Claude Desktop æ•´åˆ

- **Claude Desktop App**ï¼šæœ€æ–°ç‰ˆæœ¬
- **Claude è¨‚é–±æ–¹æ¡ˆ**ï¼šPro æ–¹æ¡ˆ

#### èˆ‡ n8n æ•´åˆ

- **n8n**ï¼šæ”¯æ´ MCP çš„ç‰ˆæœ¬

### å®‰è£æ–¹å¼

#### Windows

1. **å®‰è£ Node.js**
   - åƒè€ƒå¾®è»Ÿå®˜æ–¹æ–‡ä»¶ï¼šhttps://learn.microsoft.com/zh-tw/windows/dev-environment/javascript/nodejs-on-windows

2. **å®‰è£ AutoHotkey v2**
   - ä¸‹è¼‰ä¸¦å®‰è£ï¼šhttps://www.autohotkey.com/

3. **è¨­å®š Claude Desktop**
   - é–‹å•Ÿ Claude Desktop è¨­å®šæª”
   - åœ¨ `mcpServers` ä¸­åŠ å…¥ä»¥ä¸‹è¨­å®šï¼š

```json
{
  "mcpServers": {
    "line-desktop-mcp": {
      "command": "npx",
      "args": ["line-desktop-mcp@latest"]
    }
  }
}
```

#### macOS

1. **å®‰è£ Node.js**
   - ä½¿ç”¨ Homebrewï¼š`brew install node`
   - æˆ–å¾å®˜ç¶²ä¸‹è¼‰ï¼šhttps://nodejs.org/

2. **ï¼ˆé¸æ“‡æ€§ï¼‰å®‰è£ cliclick**
   - å¦‚æœæœ‰å®‰è£ Homebrewï¼Œæœƒæ–¼å•Ÿå‹•æ™‚è‡ªå‹•å®‰è£
   - æˆ–æ‰‹å‹•å®‰è£ï¼š`brew install cliclick`

3. **è¨­å®š Claude Desktop**
   - é–‹å•Ÿ Claude Desktop è¨­å®šæª”
   - åœ¨ `mcpServers` ä¸­åŠ å…¥ä»¥ä¸‹è¨­å®šï¼š

```json
{
  "mcpServers": {
    "line-desktop-mcp": {
      "command": "npx",
      "args": ["line-desktop-mcp@latest"]
    }
  }
}
```

### é€²éšè¨­å®š

#### Streamable HTTP æ¨¡å¼

é™¤äº†é è¨­çš„ stdio æ¨¡å¼å¤–ï¼Œæœ¬å°ˆæ¡ˆä¹Ÿæ”¯æ´é€é Streamable HTTP æ–¹å¼é‹è¡Œã€‚æ­¤æ¨¡å¼ç‰¹åˆ¥é©åˆåœ¨ **n8n** ç­‰æ”¯æ´ MCP çš„å¹³å°ä¸­ä½¿ç”¨ã€‚

**å•Ÿå‹• Streamable HTTP æ¨¡å¼ï¼š**

```bash
npx line-desktop-mcp@latest --http-mode --port 3000
```

**åƒæ•¸èªªæ˜ï¼š**
- `--http-mode`ï¼šå•Ÿç”¨ Streamable HTTP æ¨¡å¼ï¼Œä½¿ç”¨ HTTP streaming è€Œé stdio
- `--port <port>`ï¼šæŒ‡å®š HTTP ä¼ºæœå™¨çš„ portï¼ˆé è¨­ï¼š3000ï¼‰

**MCP ç«¯é»é…ç½®ï¼š**

æœ¬æ©Ÿé€£æ¥ï¼š
```
http://127.0.0.1:3000/mcp
```

Docker ä¸­çš„ n8n é€£æ¥ï¼ˆåŒä¸€å°æ©Ÿå™¨ï¼‰ï¼š
```
http://host.docker.internal:3000/mcp
```

**å‚³è¼¸æ–¹å¼ï¼š**
- POST è«‹æ±‚ï¼šç™¼é€ JSON-RPC è¨Šæ¯ä¸¦é€é SSE stream æ¥æ”¶å›æ‡‰
- æ”¯æ´ session ç®¡ç†ï¼Œæ¯å€‹é€£æ¥æœƒç²å¾—å”¯ä¸€çš„ session ID

**n8n å·¥ä½œæµç¨‹ç¯„ä¾‹ï¼š**

å¦‚æœæ‚¨æƒ³åœ¨ n8n ä¸­ä½¿ç”¨ LINE Desktop MCPï¼Œå¯ä»¥ä¸‹è¼‰æˆ‘å€‘æä¾›çš„ç¯„ä¾‹å·¥ä½œæµç¨‹æª”æ¡ˆï¼š
- ğŸ“¥ [ä¸‹è¼‰ n8n å·¥ä½œæµç¨‹ç¯„ä¾‹](doc_media/LINE-Desktop-MCP-Demo-chatbot-sample.json)

æ­¤ç¯„ä¾‹å±•ç¤ºå¦‚ä½•åœ¨ n8n ä¸­æ•´åˆ LINE Desktop MCP å»ºç«‹èŠå¤©æ©Ÿå™¨äººå·¥ä½œæµç¨‹ã€‚

### ä½¿ç”¨æ–¹å¼

åœ¨ Claude Desktop çš„å°è©±ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ“ä½œ LINEï¼š

#### 1. è®€å–èŠå¤©å…§å®¹

```
è«‹å¹«æˆ‘è®€å– LINE ç¾¤çµ„ã€å°ˆæ¡ˆè¨è«–ã€çš„è¨Šæ¯ï¼Œä¸¦ä½œå‡ºç¸½çµ
```

#### 2. ç™¼é€è¨Šæ¯ï¼ˆæ‰‹å‹•ç¢ºèªï¼‰

```
è«‹å¹«æˆ‘æ’°å¯«ä¸€å€‹å•å€™ï¼Œç™¼é€åˆ° LINE ç¾¤çµ„ã€å°ˆæ¡ˆè¨è«–ã€ä¸­
```

Claude æœƒå…ˆæ’°å¯«è¨Šæ¯å…§å®¹ï¼Œç­‰å¾…æ‚¨ç¢ºèªå¾Œå†ç™¼é€ã€‚

#### 3. ç™¼é€è¨Šæ¯ï¼ˆè‡ªå‹•é€å‡ºï¼‰

```
è«‹å¹«æˆ‘æ’°å¯«ä¸€å€‹å•å€™ï¼Œç™¼é€åˆ° LINE ç¾¤çµ„ã€å°ˆæ¡ˆè¨è«–ã€ä¸­ï¼Œä¸¦è‡ªå‹•ç™¼é€
```

Claude æœƒæ’°å¯«è¨Šæ¯ä¸¦è‡ªå‹•å®Œæˆç™¼é€å‹•ä½œã€‚

### ä½¿ç”¨æ³¨æ„äº‹é …

#### é‡è¦æé†’

1. **é¿å…å¹²æ“¾è‡ªå‹•åŒ–æ“ä½œ**  
   æœ¬å·¥å…·é€éåœ–å½¢ä½¿ç”¨è€…ä»‹é¢ï¼ˆGUIï¼‰é€²è¡Œè‡ªå‹•åŒ–æ“ä½œã€‚åœ¨è‡ªå‹•åŒ–ç¨‹å¼åŸ·è¡ŒæœŸé–“ï¼Œè«‹å‹¿åŒæ™‚ä½¿ç”¨æ»‘é¼ é€²è¡Œå…¶ä»–æ“ä½œï¼Œä»¥å…å¹²æ“¾ç¨‹å¼é‹ä½œã€‚

2. **LINE Desktop è¦–çª—é…ç½®è¦æ±‚**  
   è«‹ç¢ºä¿ LINE Desktop ä½¿ç”¨ã€Œå±•é–‹èŠå¤©è¦–çª—ã€æ¨¡å¼ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼ŒèŠå¤©è¦–çª—æœƒå›ºå®šé¡¯ç¤ºåœ¨èŠå¤©å®¤æ¸…å–®çš„å³å´ï¼Œè€Œéä»¥ç¨ç«‹è¦–çª—æ–¹å¼é–‹å•Ÿã€‚

3. **å¤šé¡¯ç¤ºå™¨ç’°å¢ƒé…ç½®**  
   è‹¥æ‚¨ä½¿ç”¨å¤šå€‹é¡¯ç¤ºå™¨,è«‹å°‡ LINE Desktop æ‡‰ç”¨ç¨‹å¼æ”¾ç½®æ–¼ä¸»è¦é¡¯ç¤ºå™¨ï¼ˆç¬¬ä¸€å€‹é¡¯ç¤ºå™¨ï¼‰ä¸Š,ä»¥ç¢ºä¿è‡ªå‹•åŒ–åŠŸèƒ½æ­£å¸¸é‹ä½œã€‚

### æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE.md](LICENSE.md) æª”æ¡ˆ

### ä½œè€…

**Geoffrey Wang**
- GitHub: [@dtwang](https://github.com/dtwang)
- Threads: [@geoff_spacetime](https://www.threads.com/@geoff_spacetime)

---

## English

Integrate AI tools with LINE Desktop through MCP (Model Context Protocol) to enable message reading and sending operations.

![LINE Desktop MCP Demo with Claude Desktop](doc_media/line-desktop-demo-4x.gif)

![LINE Desktop MCP Demo with n8n](doc_media/line-desktop-mcp-demo-n8n-2x.gif)

### âš ï¸ Important Notice

**This project is NOT the official LINE line-bot-mcp-server**

If you're looking for the official version, please visit: https://github.com/line/line-bot-mcp-server

### Differences from Official Version

- **Official line-bot-mcp-server**: Operates LINE Bot through LINE Messaging API
- **This project line-desktop-mcp**: Directly operates LINE Desktop application on Windows or Mac through MCP

### Important Disclaimer

1. **This project is NOT officially affiliated with LINE**  
   æœ¬å°ˆæ¡ˆèˆ‡ LINE å®˜æ–¹ç„¡ä»»ä½•é—œè¯ã€‚

2. **No need to apply for LINE Developers or use Channel Access Token**  
   This project operates through the already logged-in LINE Desktop application, without requiring developer account registration or API tokens.

### About

LINE Desktop MCP is an integration tool based on the Model Context Protocol that allows AI tools (such as Claude Desktop, n8n ) to interact directly with the LINE Desktop application. With this project, you can:

- ğŸ“– Read LINE chat messages
- âœ‰ï¸ Send LINE messages (manual or automatic)
- ğŸ¤– Integrate LINE into your AI workflows

### Features

- ğŸ¤– **AI Integration**: Seamlessly integrate with AI tools like Claude Desktop, n8n through the MCP protocol
- ğŸ’¬ **Message Operations**: Support for reading and sending LINE messages
- ğŸ–¥ï¸ **Desktop Integration**: Direct interaction with the LINE Desktop application
- ğŸ”„ **Automation Support**: Choose between manual confirmation or automatic message sending

### System Requirements

#### Basic Requirements

- **LINE Desktop**: v9.10 or above
- **Operating System**:
  - Windows 10 or above
  - macOS Ventura 13.0 or above (requires AppleScript support)

#### Integration with Claude Desktop

- **Claude Desktop App**: Latest version
- **Claude Subscription**: Pro plan

#### Integration with n8n

- **n8n**: Version with MCP support

### Installation

#### Windows

1. **Install Node.js**
   - Follow Microsoft's official guide: https://learn.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-windows

2. **Install AutoHotkey v2**
   - Download and install: https://www.autohotkey.com/

3. **Configure Claude Desktop**
   - Open Claude Desktop configuration file
   - Add the following to `mcpServers`:

```json
{
  "mcpServers": {
    "line-desktop-mcp": {
      "command": "npx",
      "args": ["line-desktop-mcp@latest"]
    }
  }
}
```

#### macOS

1. **Install Node.js**
   - Using Homebrew: `brew install node`
   - Or download from: https://nodejs.org/

2. **(Optional) Install cliclick**
   - If Homebrew is installed, it will be automatically installed on startup
   - Or install manually: `brew install cliclick`

3. **Configure Claude Desktop**
   - Open Claude Desktop configuration file
   - Add the following to `mcpServers`:

```json
{
  "mcpServers": {
    "line-desktop-mcp": {
      "command": "npx",
      "args": ["line-desktop-mcp@latest"]
    }
  }
}
```

### Advanced Configuration

#### Streamable HTTP Mode

In addition to the default stdio mode, this project also supports running via Streamable HTTP. This mode is particularly suitable for use with platforms like **n8n** that support MCP.

**Start Streamable HTTP Mode:**

```bash
npx line-desktop-mcp@latest --http-mode --port 3000
```

**Parameters:**
- `--http-mode`: Enable Streamable HTTP mode, using HTTP streaming instead of stdio
- `--port <port>`: Specify the HTTP server port (default: 3000)

**MCP Endpoint Configuration:**

Local connection:
```
http://127.0.0.1:3000/mcp
```

n8n in Docker (same machine):
```
http://host.docker.internal:3000/mcp
```

**Transport Method:**
- POST requests: Send JSON-RPC messages and receive responses via SSE stream
- Supports session management with unique session IDs for each connection

**n8n Workflow Example:**

If you want to use LINE Desktop MCP in n8n, you can download our sample workflow file:
- ğŸ“¥ [Download n8n Workflow Example](doc_media/LINE-Desktop-MCP-Demo-chatbot-sample.json)

This example demonstrates how to integrate LINE Desktop MCP in n8n to create a chatbot workflow.

### Usage

In Claude Desktop conversations, you can interact with LINE in the following ways:

#### 1. Read Chat Messages

```
Please read the messages from LINE group 'Project Discussion' and summarize them
```

#### 2. Send Messages (Manual Confirmation)

```
Please write a greeting and send it to LINE group 'Project Discussion'
```

Claude will compose the message and wait for your confirmation before sending.

#### 3. Send Messages (Automatic)

```
Please write a greeting and send it to LINE group 'Project Discussion', and send it automatically
```

Claude will compose the message and automatically complete the sending action.

### Usage Precautions

#### Important Reminders

1. **Avoid Interfering with Automation**  
   This tool performs automation through the graphical user interface (GUI). During automated operations, please refrain from using the mouse for other tasks to prevent interference with the program's execution.

2. **LINE Desktop Window Configuration**  
   Please ensure that LINE Desktop is configured in "Expanded Chat Window" mode. In this mode, the chat window remains docked to the right side of the chat list, rather than opening as a separate independent window.

3. **Multi-Monitor Setup**  
   If you are using multiple monitors, please ensure that the LINE Desktop application is positioned on the primary display (first monitor) for the automation to function correctly.

### License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details

### Author

**Geoffrey Wang**
- GitHub: [@dtwang](https://github.com/dtwang)
- Threads: [@geoff_spacetime](https://www.threads.com/@geoff_spacetime)
